<Window x:Class="CafeAutomation.Views.CreateOrderDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Новый заказ" Height="500" Width="800">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>

        <!-- Блюда -->
        <StackPanel Grid.Column="0">
            <TextBlock Text="Доступные блюда:" FontSize="16" FontWeight="Bold"/>
            <ListBox ItemsSource="{Binding AvailableDishes}"
                     SelectedItem="{Binding SelectedAvailableDish}"
                     DisplayMemberPath="Name"
                     Height="300"/>
            <Button Content="Добавить" Command="{Binding AddToOrder}" Margin="0 10 0 0"/>
        </StackPanel>

        <!-- Заказ -->
        <StackPanel Grid.Column="1" Margin="20 0 0 0">
            <TextBlock Text="Блюда в заказе:" FontSize="16" FontWeight="Bold"/>
            <ListBox ItemsSource="{Binding SelectedDishes}"
                     SelectedItem="{Binding SelectedDishForOrder}" Height="300">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding Dish.Name}" Width="150"/>
                            <TextBlock Text="{Binding Quantity}" Width="50" TextAlignment="Center"/>
                            <TextBlock Text="{Binding Total}" Width="80" TextAlignment="Right"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
            <Button Content="Удалить" Command="{Binding RemoveFromOrder}" Margin="0 10 0 0"/>

            <TextBlock Text="{Binding OrderTotal, StringFormat='Итого: {0:C}'}" FontSize="16" FontWeight="Bold" Margin="0 10"/>
            <Button Content="Оформить заказ" Command="{Binding ConfirmOrder}" Background="LightGreen" Height="30"/>
        </StackPanel>
    </Grid>
</Window>
